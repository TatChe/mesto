(()=>{"use strict";var e={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button-submit",inactiveButtonClass:"popup__button-submit_disabled",inputErrorClass:"popup__input_error",errorClass:"popup__error_visible"},t=document.querySelector(".user__name"),n=document.querySelector(".user__about"),r=document.querySelector(".user__avatar"),o=document.querySelector(".user__button-edit"),i=document.querySelector(".profile__button-add"),a=document.querySelector(".user__avatar-edit"),u=document.querySelector(".popup__input_data_name"),c=document.querySelector(".popup__input_data_about"),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.querySelector(e).querySelector(".popup__button-submit");n.textContent=t?"Сохранение ...":"Сохранить"};function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t,n,r){var o=t.data,i=t.handleCardClick,a=t.handleDeleteClick,u=t.handleLikeClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._title=o.title,this._link=o.link,this.likes=o.likes,this._cardTemplate=n,this.id=o.id,this._ownerID=o.owner,this._currentUserID=r,this._handleCardClick=i,this._handleDeleteClick=a,this._handleLikeClick=u}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardTemplate).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__button-like").addEventListener("click",(function(){e._handleLikeClick(e)}));var t=this._element.querySelector(".element__button-delete");t&&t.addEventListener("click",(function(){e._handleDeleteClick()})),this._img.addEventListener("click",(function(){e._handleCardClick(e._title,e._link)}))}},{key:"deleteCard",value:function(){this._element.remove(),this._element=""}},{key:"setLikes",value:function(e){var t=this,n=this._element.querySelector(".element__button-like"),r=this._element.querySelector(".element__likes-counter");this.likes=e.likes,r.textContent=this.likes.length,this.likes.some((function(e){return e._id==t._currentUserID}))?n.classList.add("element__button-like_active"):n.classList.remove("element__button-like_active")}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._img=this._element.querySelector(".element__img"),this._setEventListeners(),this._element.querySelector(".element__name").textContent=this._title,this._img.alt=this._title,this._img.src=this._link,this.setLikes(this),this._ownerID!=this._currentUserID&&this._element.querySelector(".element__button-delete").remove(),this._element}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=t,this._inputSelector=n.inputSelector,this._inputsArray=Array.from(this._form.querySelectorAll(this._inputSelector)),this._inputErrorClass=n.inputErrorClass,this._errorClass=n.errorClass,this._buttonElement=this._form.querySelector(n.submitButtonSelector),this._inactiveButtonClass=n.inactiveButtonClass}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this._setInputListeners()}},{key:"_setInputListeners",value:function(){var e=this;this._inputsArray.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"_checkInputValidity",value:function(e){this._inputElement=e,this._inputErrorPlace=document.getElementById("".concat(this._inputElement.name,"-error")),this._errorMessage=this._inputElement.validationMessage,this._inputElement.validity.valid?this._hideInputError():this._showInputError()}},{key:"_hideInputError",value:function(){this._inputElement.classList.remove(this._inputErrorClass),this._inputErrorPlace.classList.remove(this._errorClass)}},{key:"_showInputError",value:function(){this._inputElement.classList.add(this._inputErrorClass),this._inputErrorPlace.textContent=this._errorMessage,this._inputErrorPlace.classList.add(this._errorClass)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.deactivateButton():this._activateButton()}},{key:"_hasInvalidInput",value:function(){return this._inputsArray.some((function(e){return!e.validity.valid}))}},{key:"deactivateButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0)}},{key:"_activateButton",value:function(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled")}},{key:"hideAllErrors",value:function(){var e=this;this._inputsArray.forEach((function(t){e._inputElement=t,e._inputErrorPlace=document.getElementById("".concat(t.name,"-error")),e._hideInputError()}))}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderAllItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup__button-close")||t.target.classList.contains("popup"))&&e.close()}))}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function E(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"open",value:function(e,t){this._placeCardName=this._popup.querySelector(".popup__place-name"),this._placeCardImage=this._popup.querySelector(".popup__image"),this._placeCardName.textContent=e,this._placeCardImage.alt=e,this._placeCardImage.src=t,k(C(a.prototype),"open",this).call(this)}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(v);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},j.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function A(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return A(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleFormSubmit=t.bind(T(n)),n.form=n._popup.querySelector(".popup__form"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popup.querySelectorAll(".popup__input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;j(q(a.prototype),"setEventListeners",this).call(this),this.form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.close()}))}},{key:"close",value:function(){j(q(a.prototype),"close",this).call(this),this.form.reset()}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(v);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=x(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(this,arguments)}function x(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}function N(e,t){return N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},N(e,t)}function H(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(o){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return H(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._form=t._popup.querySelector(".popup__form"),t}return t=a,(n=[{key:"setSubmitAction",value:function(e){this._handleFormSubmit=e.bind(this)}},{key:"setEventListeners",value:function(){var e=this;B(V(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e.close(),e._handleFormSubmit()}))}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(v);function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(t){var n=t.userName,r=t.userAbout;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=n,this._userAbout=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{userName:this._userName.textContent,userAbout:this._userAbout.textContent}}},{key:"setUserInfo",value:function(e){this._userName.textContent=e.name,this._userAbout.textContent=e.about}}])&&M(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=new(function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n;return t=e,(n=[{key:"_errorHandler",value:function(e){return e.ok?e.json():Promise.reject("Произошла ошибка при обращении к серверу, код ошибки: ".concat(e.status))}},{key:"getUserData",value:function(){var e=this;return fetch(this._baseUrl+"/users/me",{method:"GET",headers:this._headers}).then((function(t){return e._errorHandler(t)}))}},{key:"getAllCards",value:function(){var e=this;return fetch(this._baseUrl+"/cards",{method:"GET",headers:this._headers}).then((function(t){return e._errorHandler(t)}))}},{key:"getStartedData",value:function(){return Promise.all([this.getUserData(),this.getAllCards()])}},{key:"patchUserData",value:function(e){var t=this;return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return t._errorHandler(e)}))}},{key:"patchUserAvatar",value:function(e){var t=this;return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return t._errorHandler(e)}))}},{key:"postCard",value:function(e){var t=this;return fetch(this._baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:e.title,link:e.link})}).then((function(e){return t._errorHandler(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch(this._baseUrl+"/cards/"+e.id,{method:"DELETE",headers:this._headers}).then((function(e){return t._errorHandler(e)}))}},{key:"putCardLike",value:function(e){var t=this;return fetch(this._baseUrl+"/cards/"+e.id+"/likes",{method:"PUT",headers:this._headers}).then((function(e){return t._errorHandler(e)}))}},{key:"deleteCardLike",value:function(e){var t=this;return fetch(this._baseUrl+"/cards/"+e.id+"/likes",{method:"DELETE",headers:this._headers}).then((function(e){return t._errorHandler(e)}))}}])&&G(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-41",headers:{authorization:"1d4d3067-933d-44bd-90ee-5ffcfa07139c","Content-Type":"application/json"}});$.getStartedData().then((function(l){var p,d,y=(d=2,function(e){if(Array.isArray(e))return e}(p=l)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(p,d)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(p,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=y[0],m=y[1];t.textContent=v.name,n.textContent=v.about,r.src=v.avatar;var b=new J({userName:t,userAbout:n}),k=v._id,g=new R(".popup_action_profile-edit",(function(e){s(".popup_action_profile-edit",!0),$.patchUserData(e).then((function(e){s(".popup_action_profile-edit",!1),b.setUserInfo(e),g.close()})).catch((function(e){return console.log(e)}))})),w=new R(".popup_action_avatar-edit",(function(e){s(".popup_action_avatar-edit",!0),$.patchUserAvatar(e).then((function(e){s(".popup_action_avatar-edit",!0),r.src=e.avatar,w.close()})).catch((function(e){return console.log(e)}))})),E=new h(g.form,e),C=new h(w.form,e);E.enableValidation(),C.enableValidation(),g.setEventListeners(),w.setEventListeners(),o.addEventListener("click",(function(){u.value=b.getUserInfo().userName,c.value=b.getUserInfo().userAbout,E.deactivateButton(),E.hideAllErrors(),g.open()})),a.addEventListener("click",(function(){C.deactivateButton(),C.hideAllErrors(),w.open()}));var O=new _({items:m.map((function(e){return{title:e.name,link:e.link,likes:e.likes,id:e._id,owner:e.owner._id}})),renderer:A},".elements");O.renderAllItems();var L=new S(".popup_action_card-view"),j=new R(".popup_action_card-add",(function(e){s(".popup_action_card-add",!0),$.postCard(e).then((function(e){s(".popup_action_card-add",!0),A({title:e.name,link:e.link,likes:e.likes,id:e._id,owner:e.owner._id}),j.close()})).catch((function(e){return console.log(e)}))})),P=new F(".popup_action_card-delete"),I=new h(j.form,e);function A(e){var t=new f({data:e,handleCardClick:T,handleDeleteClick:function(){P.setSubmitAction((function(e){!function(e){$.deleteCard(e).then((function(t){e.deleteCard()})).catch((function(e){return console.log(e)}))}(t)})),P.open()},handleLikeClick:q},".card-template",k),n=t.generateCard();O.addItem(n)}function T(e,t){L.open(e,t)}function q(e){e.likes.some((function(e){return e._id==k}))?$.deleteCardLike(e).then((function(t){e.setLikes(t)})).catch((function(e){return console.log(e)})):$.putCardLike(e).then((function(t){e.setLikes(t)})).catch((function(e){return console.log(e)}))}I.enableValidation(),L.setEventListeners(),j.setEventListeners(),P.setEventListeners(),i.addEventListener("click",(function(){I.deactivateButton(),I.hideAllErrors(),j.open()}))})).catch((function(e){return console.log(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNkUyxFQUFhVCxvQkFDYlcsRUFBZ0JYLG9CQXVCaEJuSyxFQUFXaUMsaUJBQWtCLFNBQVMsV0FDcEMrSSxFQUFxQmhHLG1CQUNyQmdHLEVBQXFCWCxnQkFDckJPLEVBQWFOLGFBdURkWixPQUFNLFNBQUNDLEdBQUQsT0FBU0MsUUFBUUMsSUFBSUYsTyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFya2h5ekltYWdlID0gbmV3IFVSTCgnLi4vaW1hZ2VzL2VsZW1lbnQtYXJraHl6LmpwZycsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBjaGVseWFiaW5za0ltYWdlID0gbmV3IFVSTCgnLi4vaW1hZ2VzL2VsZW1lbnQtY2hlbHlhYmluc2stb2JsYXN0LmpwZycsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBpdmFub3ZvSW1hZ2UgPSBuZXcgVVJMKCcuLi9pbWFnZXMvZWxlbWVudC1pdmFub3ZvLmpwZycsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBrYW1jaGF0a2FJbWFnZSA9IG5ldyBVUkwoJy4uL2ltYWdlcy9lbGVtZW50LWthbWNoYXRrYS5qcGcnLCBpbXBvcnQubWV0YS51cmwpO1xuY29uc3Qga2hvbG1vZ29yc2t5SW1hZ2UgPSBuZXcgVVJMKCcuLi9pbWFnZXMvZWxlbWVudC1raG9sbW9nb3Jza3ktcmF5b24uanBnJywgaW1wb3J0Lm1ldGEudXJsKTtcbmNvbnN0IGJhaWthbEltYWdlID0gbmV3IFVSTCgnLi4vaW1hZ2VzL2VsZW1lbnQtYmFpa2FsLmpwZycsIGltcG9ydC5tZXRhLnVybCk7XG5cbi8vINGI0LDQsdC70L7QvSDQtNC70Y8g0LLQtdGA0YHRgtC60Lgg0LrQsNGA0YLQvtGH0LrQuFxuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZSA9ICcuY2FyZC10ZW1wbGF0ZSc7XG5cbi8vINC90LDRgdGC0YDQvtC50LrQuCDQstCw0LvQuNC00LDRhtC40LhcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbi1zdWJtaXQnLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbi1zdWJtaXRfZGlzYWJsZWQnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfZXJyb3InLFxuICBlcnJvckNsYXNzOiAncG9wdXBfX2Vycm9yX3Zpc2libGUnXG59O1xuXG4vLyDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG5leHBvcnQgY29uc3QgdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlcl9fbmFtZScpO1xuZXhwb3J0IGNvbnN0IHVzZXJBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyX19hYm91dCcpO1xuZXhwb3J0IGNvbnN0IHVzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlcl9fYXZhdGFyJyk7XG5cbi8vINC60L3QvtC/0LrQuFxuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXJfX2J1dHRvbi1lZGl0Jyk7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tYWRkJyk7XG5leHBvcnQgY29uc3QgYXZhdGFyRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyX19hdmF0YXItZWRpdCcpO1xuXG4vLyDQv9C+0LvRjyDQtNC70Y8g0L/RgNC+0YTQuNC70Y9cbmV4cG9ydCBjb25zdCBpbnB1dFVzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9kYXRhX25hbWUnKTtcbmV4cG9ydCBjb25zdCBpbnB1dFVzZXJBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZGF0YV9hYm91dCcpOyIsImV4cG9ydCBjb25zdCByZW5kZXJMb2FkaW5nID0gKHBvcHVwLCBpc0xvYWRpbmcgPSBmYWxzZSkgPT4ge1xuICBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwKS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbi1zdWJtaXQnKTtcblxuICBpZiAoIGlzTG9hZGluZyApIHtcbiAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUgLi4uJztcbiAgfSBlbHNlIHtcbiAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LjRgtGMJztcbiAgfVxufVxuXG4vLyDQstGL0LfRi9Cy0LDQtdC8INC10LUg0LIg0YXRjdC90LTQu9C10YDQtSDQvtGC0L/RgNCw0LLQutC4INGE0L7RgNC80Ysg0Lgg0LIg0LzQvtC80LXQvdGCINC/0L7Qu9GD0YfQtdC90LjRjyDQvtGC0LLQtdGC0LAg0L7RgiBBUEkg0L/QvtGB0LvQtSDRgdC+0LfQtNCw0L3QuNGPINC90L7QstC+0LPQviDRjdC70LXQvNC10L3RgtCwIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yICggeyBkYXRhLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZURlbGV0ZUNsaWNrLCBoYW5kbGVMaWtlQ2xpY2sgfSwgY2FyZFRlbXBsYXRlLCBjdXJyZW50VXNlcklEKSB7XG4gICAgdGhpcy5fdGl0bGUgPSBkYXRhLnRpdGxlO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gY2FyZFRlbXBsYXRlO1xuICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgIHRoaXMuX293bmVySUQgPSBkYXRhLm93bmVyO1xuICAgIHRoaXMuX2N1cnJlbnRVc2VySUQgPSBjdXJyZW50VXNlcklEO1xuXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xuICB9XG5cbiAgLy8g0LLQvtC30LLRgNCw0YnQtdC90LjQtSDRgNCw0LfQvNC10YLQutC4XG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICAvLyDQt9Cw0LHQuNGA0LDQtdC8INGA0LDQt9C80LXRgtC60YMg0LjQtyBIVE1MINC4INC60LvQvtC90LjRgNGD0LXQvCDRjdC70LXQvNC10L3RglxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRUZW1wbGF0ZSlcbiAgICAgIC5jb250ZW50XG4gICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIC8vINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8IERPTS3RjdC70LXQvNC10L3RgiDQutCw0YDRgtC+0YfQutC4XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgLy8g0YPRgdGC0LDQvdC+0LLQutCwINGB0LvRg9GI0LDRgtC10LvQtdC5XG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19idXR0b24tbGlrZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMpO1xuICAgIH0pO1xuXG4gICAgLy8g0L/RgNC+0LLQtdGA0Y/QtdC8INC90LDQu9C40YfQuNC1INC60L3QvtC/0LrQuCDRg9C00LDQu9C10L3QuNGPXG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fYnV0dG9uLWRlbGV0ZScpO1xuICAgIGlmIChkZWxldGVCdXR0b24pIHtcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2soKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX2ltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl90aXRsZSwgdGhpcy5fbGluayk7XG4gICAgfSk7XG4gIH0gIFxuXG4gIC8vINGD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxuICBkZWxldGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9ICcnO1xuICB9XG5cblxuICAvLyDQu9Cw0LnQutC4INC60LDRgNGC0L7Rh9C60LhcbiAgc2V0TGlrZXMoZGF0YSkge1xuICAgIGNvbnN0IGxpa2VJY29uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fYnV0dG9uLWxpa2UnKTtcbiAgICBjb25zdCBsaWtlc0NvdW50ZXJQbGFjZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2VzLWNvdW50ZXInKTtcbiAgICB0aGlzLmxpa2VzID0gZGF0YS5saWtlcztcbiAgICBsaWtlc0NvdW50ZXJQbGFjZS50ZXh0Q29udGVudCA9IHRoaXMubGlrZXMubGVuZ3RoO1xuXG4gICAgaWYgKCB0aGlzLmxpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09IHRoaXMuX2N1cnJlbnRVc2VySUQgKSApIHtcbiAgICAgIGxpa2VJY29uLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2J1dHRvbi1saWtlX2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaWtlSWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19idXR0b24tbGlrZV9hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICAvLyDQstC+0LfQstGA0LDRidCw0LXQvCDRgNCw0LHQvtGC0L7RgdC/0L7RgdC+0LHQvdGL0Lkg0Lgg0L3QsNC/0L7Qu9C90LXQvdC90YvQuSDQtNCw0L3QvdGL0LzQuCDRjdC70LXQvNC10L3RgiDQutCw0YDRgtC+0YfQutC4XG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICAvLyBET00t0Y3Qu9C10LzQtdC90YIg0LrQsNGA0YLQvtGH0LrQuFxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIC8vINC60LDRgNGC0LjQvdC60LBcbiAgICB0aGlzLl9pbWcgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWcnKTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIFxuICAgIC8vINC00L7QsdCw0LLQuNC8INC00LDQvdC90YvQtVxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX25hbWUnKS50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xuICAgIHRoaXMuX2ltZy5hbHQgPSB0aGlzLl90aXRsZTtcbiAgICB0aGlzLl9pbWcuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLnNldExpa2VzKHRoaXMpO1xuXG4gICAgLy8g0YPQsdC40YDQsNC10Lwg0LrQvdC+0L/QutGDINGD0LTQsNC70LXQvdC40Y8g0LTQu9GPINGH0YPQttC40YUg0LrQsNGA0YLQvtGH0LXQulxuICAgIGlmICggdGhpcy5fb3duZXJJRCAhPSB0aGlzLl9jdXJyZW50VXNlcklEICkge1xuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fYnV0dG9uLWRlbGV0ZScpLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGZvcm0sIHZhbGlkYXRpb25TZXR0aW5ncykge1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSB2YWxpZGF0aW9uU2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dHNBcnJheSA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSB2YWxpZGF0aW9uU2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSB2YWxpZGF0aW9uU2V0dGluZ3MuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHZhbGlkYXRpb25TZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHZhbGlkYXRpb25TZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGV2ZW50ID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSlcbiAgICB0aGlzLl9zZXRJbnB1dExpc3RlbmVycygpO1xuICB9XG5cbiAgLy8g0L3QsNC30L3QsNGH0LXQvdC40LUg0L7QsdGA0LDQsdC+0YLRh9C40LrQvtCyINC90LAg0L/QvtC70Y8g0YTQvtGA0LxcbiAgX3NldElucHV0TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0c0FycmF5LmZvckVhY2goaW5wdXRFbGVtZW50ID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvLyDQv9GA0L7QstC10YDQutCwINC/0L7Qu9GPINC90LAg0LLQsNC70LjQtNC90L7RgdGC0YxcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnQgPSBpbnB1dEVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRFcnJvclBsYWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGhpcy5faW5wdXRFbGVtZW50Lm5hbWV9LWVycm9yYCk7XG4gICAgdGhpcy5fZXJyb3JNZXNzYWdlID0gdGhpcy5faW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuXG4gICAgaWYgKHRoaXMuX2lucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoKTtcbiAgICB9XG4gIH1cblxuICAvLyDRgdC60YDRi9GC0Ywg0L7RiNC40LHQutGDXG4gIF9oaWRlSW5wdXRFcnJvcigpIHtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2lucHV0RXJyb3JQbGFjZS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgLy8g0L/QvtC60LDQt9Cw0YLRjCDQvtGI0LjQsdC60YNcbiAgX3Nob3dJbnB1dEVycm9yKCkge1xuICAgIHRoaXMuX2lucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5faW5wdXRFcnJvclBsYWNlLnRleHRDb250ZW50ID0gdGhpcy5fZXJyb3JNZXNzYWdlO1xuICAgIHRoaXMuX2lucHV0RXJyb3JQbGFjZS5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgLy8g0L3QsNGB0YLRgNC+0LnQutCwINGB0L7RgdGC0L7Rj9C90LjRjyDQutC90L7Qv9C60LhcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5kZWFjdGl2YXRlQnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2FjdGl2YXRlQnV0dG9uKCk7XG4gICAgfVxuICB9XG5cbiAgLy8g0L/RgNC+0LLQtdGA0LrQsCDRhNC+0YDQvNGLINC90LAg0L3QsNC70LjRh9C40LUg0L3QtdCy0LDQu9C40LTQvdGL0YUg0L/QvtC70LXQuVxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dHNBcnJheS5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pXG4gIH1cblxuICAvLyDQstGL0LrQu9GO0YfQtdC90LjQtSDQutC90L7Qv9C60LhcbiAgLy8g0LzQtdGC0L7QtCDQv9GD0LHQu9C40YfQvdGL0LksINGC0LDQuiDQutCw0Log0L7QvSDQv9C+0L3QsNC00L7QsdC40YLRgdGPINCyIGluZGV4LmpzXG4gIGRlYWN0aXZhdGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICB9XG5cbiAgLy8g0LLQutC70Y7Rh9C10L3QuNC1INC60L3QvtC/0LrQuFxuICBfYWN0aXZhdGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICB9XG5cbiAgLy8g0L7Rh9C40YHRgtC60LAg0L7RiNC40LHQvtC6XG4gIC8vINC80LXRgtC+0LQg0L/Rg9Cx0LvQuNGH0L3Ri9C5LCDRgtCw0Log0LrQsNC6INC+0L0g0L/QvtC90LDQtNC+0LHQuNGC0YHRjyDQsiBpbmRleC5qc1xuICBoaWRlQWxsRXJyb3JzKCkge1xuICAgIHRoaXMuX2lucHV0c0FycmF5LmZvckVhY2goaW5wdXRFbGVtZW50ID0+IHtcbiAgICAgIHRoaXMuX2lucHV0RWxlbWVudCA9IGlucHV0RWxlbWVudDtcbiAgICAgIHRoaXMuX2lucHV0RXJyb3JQbGFjZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2lucHV0RWxlbWVudC5uYW1lfS1lcnJvcmApO1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoKTtcbiAgICB9KVxuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yICggeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICAvLyDQvNCw0YHRgdC40LIg0LTQsNC90L3Ri9GFLCDQutC+0YLQvtGA0YvQtSDQvdGD0LbQvdC+INC00L7QsdCw0LLQuNGC0Ywg0L3QsCDRgdGC0YDQsNC90LjRhtGDINC/0YDQuCDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuCDQutC70LDRgdGB0LBcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIC8vINGE0YPQvdC60YbQuNGPLCDQutC+0YLQvtGA0LDRjyDQvtGC0LLQtdGH0LDQtdGCINC30LAg0YHQvtC30LTQsNC90LjQtSDQuCDQvtGC0YDQuNGB0L7QstC60YMg0LTQsNC90L3Ri9GFINC90LAg0YHRgtGA0LDQvdC40YbQtVxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgLy8g0LrQvtC90YLQtdC50L3QtdGALCDQsiDQutC+0YLQvtGA0YvQuSDQvdGD0LbQvdC+INC00L7QsdCw0LLQu9GP0YLRjCDRgdC+0LfQtNCw0L3QvdGL0LUg0Y3Qu9C10LzQtdC90YLRi1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgLy8g0L7RgtGA0LjRgdC+0LLQutCwINCy0YHQtdGFINGN0LvQtdC80LXQvdGC0L7QslxuICByZW5kZXJBbGxJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoICggKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pXG4gIH1cblxuICAvLyDQv9GA0LjQvdC40LzQsNC10YIgRE9NLdGN0LvQtdC80LXQvdGCINC4INC00L7QsdCw0LLQu9GP0LXRgiDQtdCz0L4g0LIg0LrQvtC90YLQtdC50L3QtdGAXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoaXRlbSk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yIChwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICAvLyDQt9Cw0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQutC70LDQstC40YjQtdC5IEVzY1xuICBfaGFuZGxlRXNjQ2xvc2UoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vINC00L7QsdCw0LLQu9C10L3QuNC1INGB0LvRg9GI0LDRgtC10LvQtdC5INC60LvQuNC60LAg0LjQutC+0L3QutC1INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINC4INC+0LLQtdGA0LvQtdGOXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19idXR0b24tY2xvc2UnKSB8fCBldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IgKCBwb3B1cFNlbGVjdG9yICkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgb3BlbihjYXJkTmFtZSwgY2FyZEltYWdlKSB7XG4gICAgdGhpcy5fcGxhY2VDYXJkTmFtZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGxhY2UtbmFtZScpO1xuICAgIHRoaXMuX3BsYWNlQ2FyZEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xuXG4gICAgdGhpcy5fcGxhY2VDYXJkTmFtZS50ZXh0Q29udGVudCA9IGNhcmROYW1lO1xuICAgIHRoaXMuX3BsYWNlQ2FyZEltYWdlLmFsdCA9IGNhcmROYW1lO1xuICAgIHRoaXMuX3BsYWNlQ2FyZEltYWdlLnNyYyA9IGNhcmRJbWFnZTtcblxuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IgKCBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0ICkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG4gIH1cblxuICAvLyDRgdCx0L7RgCDQtNCw0L3QvdGL0YUg0LLRgdC10YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuZm9ybS5yZXNldCgpO1xuICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvciAoIHBvcHVwU2VsZWN0b3IgKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICB9XG5cbiAgc2V0U3VibWl0QWN0aW9uICggaGFuZGxlRm9ybVN1Ym1pdCApIHtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcbiAgICB9KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IgKCB7IHVzZXJOYW1lLCB1c2VyQWJvdXQgfSApIHtcbiAgICB0aGlzLl91c2VyTmFtZSA9IHVzZXJOYW1lO1xuICAgIHRoaXMuX3VzZXJBYm91dCA9IHVzZXJBYm91dDtcbiAgfVxuXG4gIC8vINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0LTQu9GPINC/0L7QtNGB0YLQsNC90L7QstC60Lgg0LIg0YTQvtGA0LzRgyDQv9GA0Lgg0LXQtSDQvtGC0LrRgNGL0YLQuNC4XG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICB1c2VyTmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXG4gICAgICB1c2VyQWJvdXQ6IHRoaXMuX3VzZXJBYm91dC50ZXh0Q29udGVudFxuICAgIH07XG4gIH1cblxuICAvLyDQv9GA0LjQvdC40LzQsNC10Lwg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC40Lcg0YTQvtGA0LzRiyDQuCDQtNC+0LHQsNCy0LvRj9C10Lwg0LjRhSDQvdCwINGB0YLRgNCw0L3QuNGG0YNcbiAgc2V0VXNlckluZm8odXNlckRhdGEpIHtcbiAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IHVzZXJEYXRhLm5hbWU7XG4gICAgdGhpcy5fdXNlckFib3V0LnRleHRDb250ZW50ID0gdXNlckRhdGEuYWJvdXQ7XG4gIH1cbn0iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcblxuaW1wb3J0IHtcbiAgY2FyZFRlbXBsYXRlLFxuICBlZGl0UHJvZmlsZUJ0bixcbiAgYWRkQ2FyZEJ0bixcbiAgYXZhdGFyRWRpdEJ0bixcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxuICBpbnB1dFVzZXJOYW1lLFxuICBpbnB1dFVzZXJBYm91dCxcbiAgdXNlck5hbWUsXG4gIHVzZXJBYm91dCxcbiAgdXNlckF2YXRhcixcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuaW1wb3J0IHsgcmVuZGVyTG9hZGluZyB9IGZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJztcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5cblxuXG4vLyBBUElcbmNvbnN0IGFwaSA9IG5ldyBBcGkgKHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDEnLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJzFkNGQzMDY3LTkzM2QtNDRiZC05MGVlLTVmZmNmYTA3MTM5YycsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9XG59KTtcblxuXG5hcGkuZ2V0U3RhcnRlZERhdGEoKVxuICAudGhlbiggKGRhdGEpID0+IHtcbiAgICBjb25zdCBbIHVzZXJEYXRhLCBjYXJkc0RhdGEgXSA9IGRhdGE7XG5cbiAgICAvKiAqKiog0YDQsNCx0L7RgtCwINGBINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC8ICoqKiAqL1xuICAgIHVzZXJOYW1lLnRleHRDb250ZW50ID0gdXNlckRhdGEubmFtZTtcbiAgICB1c2VyQWJvdXQudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5hYm91dDtcbiAgICB1c2VyQXZhdGFyLnNyYyA9IHVzZXJEYXRhLmF2YXRhcjtcblxuICAgIGNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHt1c2VyTmFtZSwgdXNlckFib3V0fSk7XG4gICAgY29uc3QgY3VycmVudFVzZXJJRCA9IHVzZXJEYXRhLl9pZDtcblxuICAgIC8vINC/0L7Qv9Cw0L/Ri1xuICAgIGNvbnN0IHVzZXJFZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2FjdGlvbl9wcm9maWxlLWVkaXQnLCBzYXZlUHJvZmlsZUNoYW5nZXMpO1xuICAgIGNvbnN0IGF2YXRhckVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfYWN0aW9uX2F2YXRhci1lZGl0Jywgc2F2ZUF2YXRhckNoYW5nZXMpO1xuXG4gICAgLy8g0LLQsNC70LjQtNCw0YLQvtGAINGE0L7RgNC8XG4gICAgY29uc3QgdmFsaWRhdG9yRWRpdFByb2ZpbGVGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IodXNlckVkaXRQb3B1cC5mb3JtLCB2YWxpZGF0aW9uU2V0dGluZ3MpO1xuICAgIGNvbnN0IHZhbGlkYXRvckVkaXRBdmF0YXJGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoYXZhdGFyRWRpdFBvcHVwLmZvcm0sIHZhbGlkYXRpb25TZXR0aW5ncyk7XG4gICAgdmFsaWRhdG9yRWRpdFByb2ZpbGVGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgICB2YWxpZGF0b3JFZGl0QXZhdGFyRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbiAgICAvLyDRgdC70YPRiNCw0YLQtdC70Lgg0LIg0L/QvtC/0LDQv9Cw0YVcbiAgICB1c2VyRWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgYXZhdGFyRWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAvLyDRgdC70YPRiNCw0YLQtdC70Lgg0LrQu9C40LrQvtCyINC/0L4g0LrQvdC+0L/QutCw0Lwg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0L7QslxuICAgIGVkaXRQcm9maWxlQnRuLmFkZEV2ZW50TGlzdGVuZXIgKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlucHV0VXNlck5hbWUudmFsdWUgPSB1c2VySW5mby5nZXRVc2VySW5mbygpLnVzZXJOYW1lO1xuICAgICAgaW5wdXRVc2VyQWJvdXQudmFsdWUgPSB1c2VySW5mby5nZXRVc2VySW5mbygpLnVzZXJBYm91dDtcbiAgICAgIHZhbGlkYXRvckVkaXRQcm9maWxlRm9ybS5kZWFjdGl2YXRlQnV0dG9uKCk7IC8vINGB0L7RgdGC0L7Rj9C90LjQtSDQutC90L7Qv9C60Lgg0L/RgNC4INC+0YLQutGA0YvRgtC40Lgg0YTQvtGA0LzRi1xuICAgICAgdmFsaWRhdG9yRWRpdFByb2ZpbGVGb3JtLmhpZGVBbGxFcnJvcnMoKTsgLy8g0L7Rh9C40YnQsNC10Lwg0L7RiNC40LHQutC4XG4gICAgICB1c2VyRWRpdFBvcHVwLm9wZW4oKTtcbiAgICB9KVxuXG4gICAgYXZhdGFyRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyICgnY2xpY2snLCAoKSA9PiB7XG4gICAgICB2YWxpZGF0b3JFZGl0QXZhdGFyRm9ybS5kZWFjdGl2YXRlQnV0dG9uKCk7XG4gICAgICB2YWxpZGF0b3JFZGl0QXZhdGFyRm9ybS5oaWRlQWxsRXJyb3JzKCk7XG4gICAgICBhdmF0YXJFZGl0UG9wdXAub3BlbigpO1xuICAgIH0pXG5cblxuICAgIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0LDQsdC80LjRgtCwINGE0L7RgNC80Ysg0YEg0LTQsNC90L3Ri9C80Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gICAgZnVuY3Rpb24gc2F2ZVByb2ZpbGVDaGFuZ2VzKGlucHV0c0RhdGEpIHtcbiAgICAgIHJlbmRlckxvYWRpbmcgKCcucG9wdXBfYWN0aW9uX3Byb2ZpbGUtZWRpdCcsIHRydWUpO1xuICAgICAgYXBpLnBhdGNoVXNlckRhdGEoaW5wdXRzRGF0YSlcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICByZW5kZXJMb2FkaW5nICgnLnBvcHVwX2FjdGlvbl9wcm9maWxlLWVkaXQnLCBmYWxzZSk7XG4gICAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG4gICAgICAgICAgdXNlckVkaXRQb3B1cC5jbG9zZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgfVxuXG4gICAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQsNCx0LzQuNGC0LAg0YTQvtGA0LzRiyDRgSDQsNCy0LDRgtCw0YDQvtC8XG4gICAgZnVuY3Rpb24gc2F2ZUF2YXRhckNoYW5nZXMoYXZhdGFyKSB7XG4gICAgICByZW5kZXJMb2FkaW5nICgnLnBvcHVwX2FjdGlvbl9hdmF0YXItZWRpdCcsIHRydWUpO1xuICAgICAgYXBpLnBhdGNoVXNlckF2YXRhcihhdmF0YXIpXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgcmVuZGVyTG9hZGluZyAoJy5wb3B1cF9hY3Rpb25fYXZhdGFyLWVkaXQnLCB0cnVlKTtcbiAgICAgICAgICB1c2VyQXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xuICAgICAgICAgIGF2YXRhckVkaXRQb3B1cC5jbG9zZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgfVxuXG5cbiAgICAvKiAqKiog0YDQsNCx0L7RgtCwINGBINC60LDRgNGC0L7Rh9C60LDQvNC4ICoqKiAqL1xuXG4gICAgLy8g0LrQvtC90YLQtdC50L3QtdGAINC00LvRjyDQutCw0YDRgtC+0YfQtdC6XG4gICAgY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oXG4gICAgICB7XG4gICAgICAgIGl0ZW1zOiBjYXJkc0RhdGEubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAgIHRpdGxlOiBpdGVtLm5hbWUsXG4gICAgICAgICAgbGluazogaXRlbS5saW5rLFxuICAgICAgICAgIGxpa2VzOiBpdGVtLmxpa2VzLFxuICAgICAgICAgIGlkOiBpdGVtLl9pZCxcbiAgICAgICAgICBvd25lcjogaXRlbS5vd25lci5faWRcbiAgICAgICAgfSkpLFxuICAgICAgICByZW5kZXJlcjogY3JlYXRlQ2FyZFxuICAgICAgfSxcbiAgICAgICcuZWxlbWVudHMnXG4gICAgKVxuXG4gICAgLy8g0YDQtdC90LTQtdGAINC40YHRhdC+0LTQvdGL0YUg0LrQsNGA0YLQvtGH0LXQulxuICAgIGNhcmRzTGlzdC5yZW5kZXJBbGxJdGVtcygpO1xuXG4gICAgLy8g0L/QvtC/0LDQv9GLXG4gICAgY29uc3Qgdmlld0NhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX2FjdGlvbl9jYXJkLXZpZXcnKTtcbiAgICBjb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2FjdGlvbl9jYXJkLWFkZCcsIGFkZE5ld0NhcmQpO1xuICAgIGNvbnN0IGRlbGV0ZUNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtKCcucG9wdXBfYWN0aW9uX2NhcmQtZGVsZXRlJyk7XG5cbiAgICAvLyDQstCw0LvQuNC00LDRgtC+0YAg0YTQvtGA0LzRiyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG4gICAgY29uc3QgdmFsaWRhdG9yQWRkQ2FyZEZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihhZGRDYXJkUG9wdXAuZm9ybSwgdmFsaWRhdGlvblNldHRpbmdzKTtcbiAgICB2YWxpZGF0b3JBZGRDYXJkRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbiAgICAvLyDRgdC70YPRiNCw0YLQtdC70Lgg0LIg0L/QvtC/0LDQv9Cw0YVcbiAgICB2aWV3Q2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgZGVsZXRlQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgXG4gICAgLy8g0YHQvtC30LTQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4INC40Lcg0LrQu9Cw0YHRgdCwLCDQtNC+0LHQsNCy0LvQtdC90LjQtSDQsiDRgNCw0LfQvNC10YLQutGDXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XG4gICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoIHtcbiAgICAgICAgZGF0YTogaXRlbSxcbiAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiB2aWV3Q2FyZEltYWdlLFxuICAgICAgICBoYW5kbGVEZWxldGVDbGljazogKCkgPT4ge1xuICAgICAgICAgIC8vINGD0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0LDQsdC80LjRgtCwXG4gICAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLnNldFN1Ym1pdEFjdGlvbiAoXyA9PiB7XG4gICAgICAgICAgICAvLyDQv9GA0L7QutC40LTRi9Cy0LDQtdC8INC60LDRgNGC0L7Rh9C60YNcbiAgICAgICAgICAgIGRlbGV0ZU15Q2FyZChjYXJkKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC8vINC+0YLQutGA0YvQstCw0LXQvCDQv9C+0L/QsNC/INGBINGD0LbQtSDQvtGB0YLQsNC90L7QstC70LXQvdC90YvQvCDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0Lwg0YHQsNCx0LzQuNGC0LBcbiAgICAgICAgICBkZWxldGVDYXJkUG9wdXAub3BlbigpO1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVMaWtlQ2xpY2s6IGxpa2VTd2l0Y2hlclxuICAgICAgfSwgY2FyZFRlbXBsYXRlLCBjdXJyZW50VXNlcklEKTtcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyDRgdC70YPRiNCw0YLQtdC70Ywg0LrQu9C40LrQsCDQvdCwINC60L3QvtC60YMg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuICAgIGFkZENhcmRCdG4uYWRkRXZlbnRMaXN0ZW5lciAoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdmFsaWRhdG9yQWRkQ2FyZEZvcm0uZGVhY3RpdmF0ZUJ1dHRvbigpOyAvLyDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4INC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4INGE0L7RgNC80YtcbiAgICAgIHZhbGlkYXRvckFkZENhcmRGb3JtLmhpZGVBbGxFcnJvcnMoKTsgLy8g0L7Rh9C40YnQsNC10Lwg0L7RiNC40LHQutC4XG4gICAgICBhZGRDYXJkUG9wdXAub3BlbigpO1xuICAgIH0pXG5cbiAgICAvLyDQtNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4INC40Lcg0L/QvtC/0LDQv9CwXG4gICAgZnVuY3Rpb24gYWRkTmV3Q2FyZChpbnB1dHNEYXRhKSB7XG4gICAgICByZW5kZXJMb2FkaW5nICgnLnBvcHVwX2FjdGlvbl9jYXJkLWFkZCcsIHRydWUpO1xuICAgICAgYXBpLnBvc3RDYXJkKGlucHV0c0RhdGEpXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgcmVuZGVyTG9hZGluZyAoJy5wb3B1cF9hY3Rpb25fY2FyZC1hZGQnLCB0cnVlKTtcbiAgICAgICAgICBjcmVhdGVDYXJkKHtcbiAgICAgICAgICAgIHRpdGxlOiBkYXRhLm5hbWUsXG4gICAgICAgICAgICBsaW5rOiBkYXRhLmxpbmssXG4gICAgICAgICAgICBsaWtlczogZGF0YS5saWtlcyxcbiAgICAgICAgICAgIGlkOiBkYXRhLl9pZCxcbiAgICAgICAgICAgIG93bmVyOiBkYXRhLm93bmVyLl9pZFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFkZENhcmRQb3B1cC5jbG9zZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgfVxuXG4gICAgLy8g0L7QsdGA0LDQsdC+0YLQutCwINC60LvQuNC60LAg0L3QsCDQutCw0YDRgtC+0YfQutGDXG4gICAgZnVuY3Rpb24gdmlld0NhcmRJbWFnZShjYXJkTmFtZSwgY2FyZExpbmspIHtcbiAgICAgIHZpZXdDYXJkUG9wdXAub3BlbihjYXJkTmFtZSwgY2FyZExpbmspO1xuICAgIH1cblxuICAgIC8vINGD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxuICAgIGZ1bmN0aW9uIGRlbGV0ZU15Q2FyZChjYXJkKSB7XG4gICAgICBhcGkuZGVsZXRlQ2FyZChjYXJkKVxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgfVxuXG4gICAgLy8g0LvQsNC50Log0LrQsNGA0YLQvtGH0LrQuFxuICAgIGZ1bmN0aW9uIGxpa2VTd2l0Y2hlcihjYXJkKSB7XG4gICAgICAvLyDQv9GA0L7QstC10YDRj9C10LwsINC10YHRgtGMINC70Lgg0YMg0LrQsNGA0YLQvtGH0LrQuCDQvdCw0Ygg0LvQsNC50LpcbiAgICAgIGlmICggY2FyZC5saWtlcy5zb21lKChsaWtlKSA9PiBsaWtlLl9pZCA9PSBjdXJyZW50VXNlcklEICkgKSB7XG4gICAgICAgIC8vINGB0L3QuNC80LDQtdC8INC70LDQudC6XG4gICAgICAgIGFwaS5kZWxldGVDYXJkTGlrZShjYXJkKVxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgIGNhcmQuc2V0TGlrZXMoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vINGD0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdC8INC70LDQudC6XG4gICAgICAgIGFwaS5wdXRDYXJkTGlrZShjYXJkKVxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgIGNhcmQuc2V0TGlrZXMoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfSkuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IgKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuXG4gIC8vINC/0YDQuNCy0LDRgtC90YvQuSDQvNC10YLQvtC0INC00LvRjyDQvtCx0YDQsNCx0L7RgtC60Lgg0L7RiNC40LHQvtC6XG4gIF9lcnJvckhhbmRsZXIocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0L7QsdGA0LDRidC10L3QuNC4INC6INGB0LXRgNCy0LXRgNGDLCDQutC+0LQg0L7RiNC40LHQutC4OiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuXG4gIC8vINC/0L7Qu9GD0YfQuNGC0Ywg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICBnZXRVc2VyRGF0YSgpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvdXNlcnMvbWUnLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2Vycm9ySGFuZGxlcihyZXMpKTtcbiAgfVxuXG4gIC8vINC/0L7Qu9GD0YfQuNGC0Ywg0YHQv9C40YHQvtC6INCy0YHQtdGFINC60LDRgNGC0L7Rh9C10Log0LIg0LLQuNC00LUg0LzQsNGB0YHQuNCy0LBcbiAgZ2V0QWxsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzJywge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9lcnJvckhhbmRsZXIocmVzKSk7XG4gIH1cblxuICAvLyDQv9C+0LvRg9GH0LjRgtGMINC90LXQvtCx0YXQvtC00LjQvNGL0LUg0YHRgtCw0YDRgtC+0LLRi9C1INC00LDQvdC90YvQtSAo0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINC4INC60LDRgNGC0L7Rh9C60LgpXG4gIGdldFN0YXJ0ZWREYXRhKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbCAoW1xuICAgICAgdGhpcy5nZXRVc2VyRGF0YSgpLFxuICAgICAgdGhpcy5nZXRBbGxDYXJkcygpXG4gICAgXSk7XG4gIH1cblxuXG4gIC8vINC30LDQvNC10L3QuNGC0Ywg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICBwYXRjaFVzZXJEYXRhKHVzZXJEYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL3VzZXJzL21lJywge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKVxuICAgIH0pXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2Vycm9ySGFuZGxlcihyZXMpKTtcbiAgfVxuXG4gIC8vINC30LDQvNC10L3QuNGC0Ywg0LDQstCw0YLQsNGAXG4gIHBhdGNoVXNlckF2YXRhcihhdmF0YXIpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvdXNlcnMvbWUvYXZhdGFyJywge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGF2YXRhcilcbiAgICB9KVxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9lcnJvckhhbmRsZXIocmVzKSk7XG4gIH1cblxuICAvLyDQtNC+0LHQsNCy0LjRgtGMINC60LDRgNGC0L7Rh9C60YNcbiAgcG9zdENhcmQoY2FyZCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy9jYXJkcycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgJ25hbWUnOiBjYXJkLnRpdGxlLFxuICAgICAgICAnbGluayc6IGNhcmQubGlua1xuICAgICAgfSlcbiAgICB9KVxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9lcnJvckhhbmRsZXIocmVzKSk7XG4gIH1cblxuICAvLyDRg9C00LDQu9C40YLRjCDQutCw0YDRgtC+0YfQutGDXG4gIGRlbGV0ZUNhcmQoY2FyZCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy9jYXJkcy8nICsgY2FyZC5pZCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9lcnJvckhhbmRsZXIocmVzKSk7XG4gIH1cblxuICAvLyDQv9C+0YHRgtCw0LLQuNGC0Ywg0LvQsNC50Log0LrQsNGA0YLQvtGH0LrQtVxuICBwdXRDYXJkTGlrZShjYXJkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzLycgKyBjYXJkLmlkICsgJy9saWtlcycsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbihyZXMgPT4gdGhpcy5fZXJyb3JIYW5kbGVyKHJlcykpO1xuICB9XG5cbiAgLy8g0YPQtNCw0LvQuNGC0Ywg0LvQsNC50Log0LrQsNGA0YLQvtGH0LrQuFxuICBkZWxldGVDYXJkTGlrZShjYXJkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzLycgKyBjYXJkLmlkICsgJy9saWtlcycsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbihyZXMgPT4gdGhpcy5fZXJyb3JIYW5kbGVyKHJlcykpO1xuICB9XG5cbn0iXSwibmFtZXMiOlsidmFsaWRhdGlvblNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJ1c2VyTmFtZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInVzZXJBYm91dCIsInVzZXJBdmF0YXIiLCJlZGl0UHJvZmlsZUJ0biIsImFkZENhcmRCdG4iLCJhdmF0YXJFZGl0QnRuIiwiaW5wdXRVc2VyTmFtZSIsImlucHV0VXNlckFib3V0IiwicmVuZGVyTG9hZGluZyIsInBvcHVwIiwiaXNMb2FkaW5nIiwic3VibWl0QnV0dG9uIiwidGV4dENvbnRlbnQiLCJDYXJkIiwiY2FyZFRlbXBsYXRlIiwiY3VycmVudFVzZXJJRCIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VDbGljayIsInRoaXMiLCJfdGl0bGUiLCJ0aXRsZSIsIl9saW5rIiwibGluayIsImxpa2VzIiwiX2NhcmRUZW1wbGF0ZSIsImlkIiwiX293bmVySUQiLCJvd25lciIsIl9jdXJyZW50VXNlcklEIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZGVsZXRlQnV0dG9uIiwiX2ltZyIsInJlbW92ZSIsImxpa2VJY29uIiwibGlrZXNDb3VudGVyUGxhY2UiLCJsZW5ndGgiLCJzb21lIiwibGlrZSIsIl9pZCIsImNsYXNzTGlzdCIsImFkZCIsIl9nZXRUZW1wbGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImFsdCIsInNyYyIsInNldExpa2VzIiwiRm9ybVZhbGlkYXRvciIsImZvcm0iLCJfZm9ybSIsIl9pbnB1dFNlbGVjdG9yIiwiX2lucHV0c0FycmF5IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9idXR0b25FbGVtZW50IiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiX3NldElucHV0TGlzdGVuZXJzIiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaW5wdXRFbGVtZW50IiwiX2lucHV0RXJyb3JQbGFjZSIsImdldEVsZW1lbnRCeUlkIiwibmFtZSIsIl9lcnJvck1lc3NhZ2UiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJfaGFzSW52YWxpZElucHV0IiwiZGVhY3RpdmF0ZUJ1dHRvbiIsIl9hY3RpdmF0ZUJ1dHRvbiIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImFwcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiY2FyZE5hbWUiLCJjYXJkSW1hZ2UiLCJfcGxhY2VDYXJkTmFtZSIsIl9wbGFjZUNhcmRJbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaW5wdXRMaXN0IiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJVc2VySW5mbyIsIl91c2VyTmFtZSIsIl91c2VyQWJvdXQiLCJ1c2VyRGF0YSIsImFib3V0IiwiYXBpIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9lcnJvckhhbmRsZXIiLCJhbGwiLCJnZXRVc2VyRGF0YSIsImdldEFsbENhcmRzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJjYXJkIiwiYXV0aG9yaXphdGlvbiIsImdldFN0YXJ0ZWREYXRhIiwiY2FyZHNEYXRhIiwidXNlckluZm8iLCJ1c2VyRWRpdFBvcHVwIiwiaW5wdXRzRGF0YSIsInBhdGNoVXNlckRhdGEiLCJzZXRVc2VySW5mbyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImF2YXRhckVkaXRQb3B1cCIsInBhdGNoVXNlckF2YXRhciIsInZhbGlkYXRvckVkaXRQcm9maWxlRm9ybSIsInZhbGlkYXRvckVkaXRBdmF0YXJGb3JtIiwiZW5hYmxlVmFsaWRhdGlvbiIsInNldEV2ZW50TGlzdGVuZXJzIiwiZ2V0VXNlckluZm8iLCJoaWRlQWxsRXJyb3JzIiwib3BlbiIsImNhcmRzTGlzdCIsIm1hcCIsImNyZWF0ZUNhcmQiLCJyZW5kZXJBbGxJdGVtcyIsInZpZXdDYXJkUG9wdXAiLCJhZGRDYXJkUG9wdXAiLCJwb3N0Q2FyZCIsImRlbGV0ZUNhcmRQb3B1cCIsIlBvcHVwV2l0aENvbmZpcm0iLCJ2YWxpZGF0b3JBZGRDYXJkRm9ybSIsInZpZXdDYXJkSW1hZ2UiLCJzZXRTdWJtaXRBY3Rpb24iLCJfIiwiZGVsZXRlQ2FyZCIsImRlbGV0ZU15Q2FyZCIsImxpa2VTd2l0Y2hlciIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsImNhcmRMaW5rIiwiZGVsZXRlQ2FyZExpa2UiLCJwdXRDYXJkTGlrZSJdLCJzb3VyY2VSb290IjoiIn0=